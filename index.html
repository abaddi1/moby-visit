<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Auto Scroll & Click</title>
<style>
iframe {
    width: 100%;
    height: 90vh;
    border: none;
}
</style>
</head>
<body>

<iframe id="siteFrame" src="https://mahalux.xyz/"></iframe>

<script>
const iframe = document.getElementById("siteFrame");

iframe.onload = function () {
    console.log("✅ الموقع تحمّل داخل الإطار");

    // الانتظار قبل التفاعل (5 ثواني)
    setTimeout(() => {
        try {
            const frameDoc = iframe.contentWindow.document;

            // سكرول عشوائي
            const maxScroll = frameDoc.body.scrollHeight - iframe.clientHeight;
            const randomScroll = Math.floor(Math.random() * maxScroll);
            iframe.contentWindow.scrollTo(0, randomScroll);
            console.log("📜 سكرول تم");

            // البحث عن روابط العملات (تغيير selector إذا لزم)
            const coinLinks = frameDoc.querySelectorAll("a[href*='/solana/']");
            if (coinLinks.length > 0) {
                const randomCoin = coinLinks[Math.floor(Math.random() * coinLinks.length)];
                randomCoin.click();
                console.log("💰 تم النقر على عملة");
            } else {
                console.log("⚠ لم يتم العثور على روابط العملات");
            }
        } catch (err) {
            console.error("❌ لا يمكن الوصول لمحتوى iframe (حماية CORS)");
        }
    }, 5000);
};
</script>

</body>
</html>
